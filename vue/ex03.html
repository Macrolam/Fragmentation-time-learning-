<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>生命周期</title>
    <script src="./libs/vue.js"></script>
</head>
<body>
<!--
每个 Vue 实例在被创建时都要经过一系列的初始化过程——例如，需要设置数据监听、编译模板、将实例挂载到 DOM 并在数据变化时更新 DOM 等。同时在这个过程中也会运行一些叫做生命周期钩子的函数，这给了用户在不同阶段添加自己的代码的机会。比如 created 钩子可以用来在一个实例被创建之后执行代码：
-->
<div id="app">
    <!-- 输入内容 触发update周期 -->
    <input type="text" v-model="inputVal">
    <p>{{mes}}</p>
</div>

</body>
<script>
    var app = new Vue({
        el: '#app',
        data: {
            inputVal: '',
            mes:"app vue"
        },
        computed: {},
        watch: {},
        methods: {},
        beforeCreate(){
            console.log("beforeCreate:在实例初始化之后，数据观测 (data observer) 和 event/watcher 事件配置之前被调用。");
        },
        created(){
            console.log("created:在这一步，实例已完成以下的配置：数据观测 (data observer)，属性和方法的运算，watch/event 事件回调。");
        },
        beforeMount(){
            console.log("beforeMount:在挂载开始之前被调用：相关的 render 函数首次被调用。");
        },
        mounted(){
            console.log("mounted:el 被新创建的 vm.$el 替换，并挂载到实例上去之后调用该钩子。");
        },
        beforeUpdate(){
            console.log("beforeUpdate:数据更新时调用，发生在虚拟 DOM 打补丁之前。这里适合在更新之前访问现有的 DOM，比如手动移除已添加的事件监听器。");
        },
        updated(){
            console.log("updated:由于数据更改导致的虚拟 DOM 重新渲染和打补丁，在这之后会调用该钩子,通常被 计算属性或 watcher 取而代之。");
        },
        beforeDestory(){
            console.log("beforeDestory：实例销毁之前调用。在这一步，实例仍然完全可用。");
        },
        destoryed(){
            console.log("destoryed：Vue 实例销毁后调用。调用后，Vue 实例指示的所有东西都会解绑定，所有的事件监听器会被移除，所有的子实例也会被销毁。");
        },
        activated(){
            console.log("avtivated：keep-alive 组件激活时调用。");
        },
        deactivated(){
            console.log("deactivated：keep-alive 组件停用时调用。");
        },
        errorCaptured(){
            console.log("errorCaptured：2.5.0+ 新增，当捕获一个来自子孙组件的错误时被调用。(err: Error, vm: Component, info: string) => ?boolean 此钩子会收到三个参数：错误对象、发生错误的组件实例以及一个包含错误来源信息的字符串。此钩子可以返回 false 以阻止该错误继续向上传播。");
        }
    });

    /*
    * 服务端渲染：
    * 不失效 的生命周期：
    *  'beforeCreate',
    *  'created',
    * */
    var LIFECYCLE_HOOKS = [
        'beforeCreate',
        'created',
        'beforeMount',
        'mounted',
        'beforeUpdate',
        'updated',
        'beforeDestroy',
        'destroyed',
        'activated',
        'deactivated',
        'errorCaptured'
    ];
</script>
</html>