<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
那么现在关键的问题在于，为什么整个for循环会先于setTimeout执行，而不是我们正常理解的，一次迭代执行一次。

这就涉及到了JavaScript的核心特性：单线程。

JavaScript设计的初衷，是浏览器用来与用户进行交互和DOM操作的。这就决定了它必须是单线程的，设想JavaScript同事有两个线程，一个线程在DOM节点添加内容，一个线程删除该节点，浏览器就会出现混乱。所以，为了避免复杂性，从一诞生，JavaScript就是单线程，这已经成了这门语言的核心特征，将来也不会改变。

单线程就意味着，所有任务需要排队，前一个任务结束，才会执行后一个任务。如果前一个任务耗时很长，后一个任务就不得不一直等着。


<script>
    /*打印2次 2*/
    for (var j = 0; j < 2; j++) {
        setTimeout(function () {
            console.log(j)
        }, 1000)
    }

    /*等价代码*/
    for (var i = 0; i < 2; i++) {}
    setTimeout(console.log(i),1000)
    setTimeout(console.log(i),1000)
</script>
</body>
</html>